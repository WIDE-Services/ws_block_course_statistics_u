define(["jquery","core/templates","core/notification","block_course_statistics/jquery.dataTables-lazy","block_course_statistics/dataTables.responsive-lazy","block_course_statistics/responsive.bootstrap4-lazy","block_course_statistics/dataTables.buttons-lazy","block_course_statistics/dataTables.bootstrap4-lazy","block_course_statistics/dataTables.select-lazy","block_course_statistics/buttons.bootstrap-lazy","block_course_statistics/buttons.bootstrap4-lazy","block_course_statistics/buttons.print-lazy","block_course_statistics/buttons.colVis-lazy","block_course_statistics/buttons.html5-lazy","block_course_statistics/jszip-lazy","block_course_statistics/pdfmake-lazy"],function(t){return{initializeDataTable:function e(s){var o={orderCellsTop:!0,responsive:{details:{type:"column",target:2}},lengthChange:!0,columnDefs:[{orderable:!1,className:"select-checkbox select-all-rows-checkbox noVis",targets:0},{className:"control noVis",orderable:!1,targets:0},],select:{style:"multi",selector:".select-checkbox"},dom:"<B<lf><t>ip>",buttons:[{extend:"collection",className:"exportButton",text:"Export",buttons:[{extend:"copy",exportOptions:{columns:":visible"}},{extend:"print",exportOptions:{columns:":visible"}},{extend:"excel",exportOptions:{columns:":visible"}},{extend:"csv",exportOptions:{columns:":visible"}},{extend:"pdf",exportOptions:{columns:":visible",rows:":visible"}}]},{extend:"colvis",columns:":not(.noVis)"}],...s};t(document).ready(function(){t(".loader").show(),t(".statistics thead tr").clone(!0).appendTo(".statistics thead"),t(".statistics thead tr:eq(1) th").each(function(e){var s=t(this).text();t(this).html('<input type="text" placeholder="Filter '+s+'" />'),t("input",this).on("keyup change",function(){t(".statistics").DataTable().column(e).search()!==this.value&&t(".statistics").DataTable().column(e).search(this.value).draw()})}),t(".statistics thead tr:eq(1) th:eq(0) input").remove();var e=t(".statistics").DataTable(o);e.on("buttons-action",function(t,e){"Copy"===e.text()&&alert("Copy option selected!")}),e.columns().every(function(){var e=this;t("input",this.header()).on("keyup change",function(){e.search()!==this.value&&e.search(this.value).draw()});let s=0;t(".number").each(function(){t(this).html(++s)})}),t(".statistics thead tr:eq(0) th").each(function(){var e=t(this).css("display"),s=t(this).index();"none"==e?t("thead tr:eq(1)").find("th:eq("+s+") ").addClass("hidden"):t("thead tr:eq(1)").find("th:eq("+s+") ").removeClass("hidden")}),t(window).resize(function(){t(".statistics thead tr:eq(0) th").each(function(){var e=t(this).css("display"),s=t(this).index();"none"==e?t("thead tr:eq(1)").find("th:eq("+s+") ").addClass("hidden"):t("thead tr:eq(1)").find("th:eq("+s+") ").removeClass("hidden")})}),e.on("click","th.select-all-rows-checkbox",function(){t("th.select-all-rows-checkbox").hasClass("selected")?(e.rows().deselect(),t("th.select-all-rows-checkbox").removeClass("selected")):(e.rows().select(),t("th.select-all-rows-checkbox").addClass("selected"))}).on("select deselect",function(){e.rows({selected:!0}).count()!==e.rows().count()?t("th.select-all-rows-checkbox").removeClass("selected"):t("th.select-all-rows-checkbox").addClass("selected")}),t(".statistics").length&&t(".loader").hide(),t("thead tr th input").click(function(t){t.stopPropagation()})})}}});