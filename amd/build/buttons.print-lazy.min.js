/**
 * This file is part of Moodle - http://moodle.org/
 *
 * Moodle is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * Moodle is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
 *
 * @package    block_course_statistics
 * @copyright  2023 onwards WIDE Services {@link https://www.wideservices.gr}
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */ !function(t){"function"==typeof define&&define.amd?define(["jquery","block_course_statistics/jquery.dataTables-lazy","block_course_statistics/dataTables.buttons-lazy"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,n){return e||(e=window),n&&n.fn.dataTable||(n=require("datatables.net")(e,n).$),n.fn.dataTable.Buttons||require("datatables.net-buttons")(e,n),t(n,e,e.document)}:t(jQuery,window,document)}(function(t,e,n,o){"use strict";var a=t.fn.dataTable,r=n.createElement("a"),s=function(e){var n=t(e).clone()[0];return"link"===n.nodeName.toLowerCase()&&(n.href=i(n.href)),n.outerHTML},i=function(t){r.href=t;var e=r.host;return -1===e.indexOf("/")&&0!==r.pathname.indexOf("/")&&(e+="/"),r.protocol+"//"+e+r.pathname+r.search};return a.ext.buttons.print={className:"buttons-print",text:function(t){return t.i18n("buttons.print","Print")},action:function(n,a,r,u){var c=a.buttons.exportData(t.extend({decodeEntities:!1},u.exportOptions)),d=a.buttons.exportInfo(u),l=a.columns(u.exportOptions.columns).flatten().map(function(t){return a.settings()[0].aoColumns[a.column(t).index()].sClass}).toArray(),f=function(t,e){for(var n="<tr>",a=0,r=t.length;a<r;a++){var s=null===t[a]||o===t[a]?"":t[a];n+="<"+e+" "+(l[a]?'class="'+l[a]+'"':"")+">"+s+"</"+e+">"}return n+"</tr>"},m='<table class="'+a.table().node().className+'">';u.header&&(m+="<thead>"+f(c.header,"th")+"</thead>"),m+="<tbody>";for(var b=0,h=c.body.length;b<h;b++)m+=f(c.body[b],"td");m+="</tbody>",u.footer&&c.footer&&(m+="<tfoot>"+f(c.footer,"th")+"</tfoot>"),m+="</table>";var p=e.open("","");p.document.close();var y="<title>"+d.title+"</title>";t("style, link").each(function(){y+=s(this)});try{p.document.head.innerHTML=y}catch(v){t(p.document.head).html(y)}p.document.body.innerHTML="<h1>"+d.title+"</h1><div>"+(d.messageTop||"")+"</div>"+m+"<div>"+(d.messageBottom||"")+"</div>",t(p.document.body).addClass("dt-print-view"),t("img",p.document.body).each(function(t,e){e.setAttribute("src",i(e.getAttribute("src")))}),u.customize&&u.customize(p,u,a);var x=function(){u.autoPrint&&(p.print(),p.close())};navigator.userAgent.match(/Trident\/\d.\d/)?x():p.setTimeout(x,1e3)},title:"*",messageTop:"*",messageBottom:"*",exportOptions:{},header:!0,footer:!1,autoPrint:!0,customize:null},a.Buttons});